‚ùì 1. –ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω proxyMode = ScopedProxyMode.TARGET_CLASS?

–ü–æ—Ç–æ–º—É —á—Ç–æ:

Controller ‚Äî singleton, —Å–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

RequestTrace ‚Äî request-scoped, —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ HTTP-–∑–∞–ø—Ä–æ—Å–∞.

Singleton –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Ö—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ—ç—Ç–æ–º—É Spring —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π:

–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (singleton –¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–∫—Å–∏)

–ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –ø–æ–¥–º–µ–Ω—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä RequestTrace

üü¢ –ë–µ–∑ –ø—Ä–æ–∫—Å–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è ‚Üí Spring –Ω–µ —Å–º–æ–∂–µ—Ç –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å request-scoped bean –≤ singleton.

‚ùì 2. –ö–∞–∫ singleton-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç request-scoped bean?

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Å–∞–º bean ‚Äî –æ–Ω —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–∫—Å–∏:

RequestScopeController -> RequestTraceProxy -> RequestTrace (new per request)


–ü—Ä–æ–∫—Å–∏ –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞

–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π HTTP-request

–ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä request-scoped bean

–≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –Ω–∞ —ç—Ç–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–µ

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º:

–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è singleton

request-scoped bean —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å

–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤–º–µ—Å—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ

